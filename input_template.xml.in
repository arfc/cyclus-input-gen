
<simulation>
  <control>
    <duration>{{duration}}</duration>
    <startmonth>{{ startmonth}} </startmonth>
    <startyear>{{ startyear}} </startyear>
    <decay>lazy</decay>
  </control>

  <archetypes>
    <spec>
      <lib>cycamore</lib>
      <name>Source</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Sink</name>
    </spec>
    <spec>
    	<lib>cycamore</lib>
    	<name>Reactor</name>
    </spec>
    <spec>
      <lib>agents</lib>
      <name>NullRegion</name>
    </spec>
    <spec>
      <lib>agents</lib>
      <name>NullInst</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Separations</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>DeployInst</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Separations</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Enrichment</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>FuelFab</name>
    </spec>
  </archetypes>

  <facility>
    <name>reprocessing</name>
    <config>
      <Separations>
         <feed_commods>   <val>uox_waste</val> </feed_commods>
         <feed_commod_prefs> <val>1.0</val> </feed_commod_prefs>
         <feed_recipe>uox_used_fuel_recipe</feed_recipe>
         <feedbuf_size>1e100</feedbuf_size>
         <throughput>1e100</throughput>
         <leftover_commod>reprocess_waste</leftover_commod>
         <leftoverbuf_size>1e100</leftoverbuf_size>
         <streams>
          <item>
            <commod>plutonium</commod>
            <info>
              <buf_size>1e100</buf_size>
              <efficiencies>
                <item>
                  <comp>Pu</comp> <eff>.99</eff>
                </item>
              </efficiencies>
            </info>
          </item>
        </streams>
      </Separations>
    </config>
  </facility>

  <facility>
    <name>fuelfab</name>
    <config>
      <FuelFab>
        <fill_commods>
          <val>enrich_waste</val>
        </fill_commods>
        <fill_recipe>depleted_u</fill_recipe>
        <fill_size>1e100</fill_size>
        <fiss_commods>
          <val>plutonium</val>
        </fiss_commods>
        <fiss_recipe>pu</fiss_recipe>
        <fiss_size>1e100</fiss_size>
        <outcommod>mox</outcommod>
        <throughput>1e100</throughput>
        <spectrum>fission_spectrum_ave</spectrum>
      </FuelFab>
    </config>
  </facility>

  <facility>
    <name>enrichment</name>
    <config>
      <Enrichment>
        <feed_commod>natl_u</feed_commod>
        <feed_recipe>natl_u_recipe</feed_recipe>
        <product_commod>uox</product_commod>
        <tails_assay>0.003</tails_assay>
        <tails_commod>enrich_waste</tails_commod>
        <swu_capacity>1e100</swu_capacity>
        <initial_feed>1e100</initial_feed>
      </Enrichment>
    </config>
  </facility>

  <facility>
    <name>nat_u_source</name>
    <config>
      <Source>
        <outcommod>natl_u</outcommod>
        <outrecipe>natl_u_recipe</outrecipe>
        <throughput>1e100</throughput>
      </Source>
    </config>
  </facility>

  <facility>
    <name>SomeSink</name>
    <config>
      <Sink>
        <in_commods>
          <val>uox_waste</val>
          <val>mox_waste</val>
          <val>enrich_waste</val>
          <val>reprocess_waste</val>
          <val>magnox_waste</val>
        </in_commods>
        <capacity>1e100</capacity>
      </Sink>
    </config>
  </facility>

{{reactor_input}}

{{ region_input }}
  
<region>
    <name>Sink_Source</name>
    <config><NullRegion/></config>
        <institution>  
         <name>Sink_Source_Inst</name>
         <config><NullInst/></config>
        <initialfacilitylist>
          <entry>
            <number>1</number>
            <prototype>nat_u_source</prototype>
          </entry>
          <entry>
            <number>1</number>
            <prototype>enrichment</prototype>
          </entry>
          <entry>
            <number>1</number>
            <prototype>SomeSink</prototype>
          </entry>
          <entry>
            <number>1</number>
            <prototype>fuelfab</prototype>
          </entry>
          {{reprocessing}}
        </initialfacilitylist>
        </institution>
</region>  

  <recipe>
    <name>natl_u_recipe</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id> <comp>0.711</comp> </nuclide>
    <nuclide> <id>U238</id> <comp>99.289</comp> </nuclide>
  </recipe>

  <recipe>
    <name>uox_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id><comp>0.04</comp></nuclide>
    <nuclide><id>U238</id><comp>0.96</comp></nuclide>
  </recipe>

  <recipe>
    <name>depleted_u</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id><comp>0.003</comp></nuclide>
    <nuclide><id>U238</id><comp>0.997</comp></nuclide>
  </recipe>

  <recipe>
    <name>mox_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id>  <comp>0.002056</comp> </nuclide>
    <nuclide> <id>U238</id>  <comp>0.907684</comp> </nuclide>
    <nuclide> <id>Pu238</id> <comp>0.002816</comp> </nuclide>
    <nuclide> <id>Pu239</id> <comp>0.046565</comp> </nuclide>
    <nuclide> <id>Pu240</id> <comp>0.021951</comp> </nuclide>
    <nuclide> <id>Pu241</id> <comp>0.010606</comp> </nuclide>
    <nuclide> <id>Pu242</id> <comp>0.007257</comp> </nuclide>
    <nuclide> <id>Am241</id> <comp>0.001065</comp> </nuclide>
  </recipe>

  <recipe>
    <name>mox_used_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id>  <comp>0.0017381</comp> </nuclide>
    <nuclide> <id>U238</id>  <comp>0.90</comp> </nuclide>
    <nuclide> <id>Pu238</id> <comp>0.001746</comp> </nuclide>
    <nuclide> <id>Pu239</id> <comp>0.0134</comp> </nuclide>
    <nuclide> <id>Pu240</id> <comp>0.020952</comp> </nuclide>
    <nuclide> <id>Pu241</id> <comp>0.013095</comp> </nuclide>
    <nuclide> <id>Pu242</id> <comp>0.005238</comp> </nuclide>
  </recipe>

  <recipe>
    <name>uox_used_fuel_recipe</name>
    <basis>mass</basis>
    <nuclide> <id>U234</id>  <comp>143</comp>  	</nuclide>
    <nuclide> <id>U235</id>  <comp>6050</comp> 	</nuclide>
    <nuclide> <id>U236</id>  <comp>5650</comp> 	</nuclide>
    <nuclide> <id>U238</id>  <comp>927000</comp> </nuclide>
    <nuclide> <id>Pu238</id> <comp>372</comp> 	</nuclide>
    <nuclide> <id>Pu239</id> <comp>5810</comp> 	</nuclide>
    <nuclide> <id>Pu240</id> <comp>2840</comp> 	</nuclide>
    <nuclide> <id>Pu241</id> <comp>1820</comp> 	</nuclide>
    <nuclide> <id>Pu242</id> <comp>1020</comp> 	</nuclide>
    <nuclide> <id>Np237</id> <comp>811</comp> 	</nuclide>
    <nuclide> <id>Am241</id> <comp>228</comp> 	</nuclide>
    <nuclide> <id>Am243</id> <comp>1.74</comp> 	</nuclide>
    <nuclide> <id>Cm243</id> <comp>0.624</comp> </nuclide>
    <nuclide> <id>Cm244</id> <comp>141</comp> 	</nuclide>
    <nuclide> <id>Cm245</id> <comp>11</comp> 	</nuclide>
   	<nuclide> <id>Cs133</id> <comp>1630</comp> 	</nuclide>
   	<nuclide> <id>Nd143</id> <comp>1070</comp> 	</nuclide>
   	<nuclide> <id>Nd145</id> <comp>989</comp> 	</nuclide>
   	<nuclide> <id>Sm147</id> <comp>196</comp> 	</nuclide>
   	<nuclide> <id>Sm149</id> <comp>3.36</comp> 	</nuclide>
   	<nuclide> <id>Sm150</id> <comp>446</comp> 	</nuclide>
   	<nuclide> <id>Sm151</id> <comp>14.7</comp> 	</nuclide>
   	<nuclide> <id>Sm152</id> <comp>134</comp> 	</nuclide>
   	<nuclide> <id>Eu153</id> <comp>184</comp> 	</nuclide>
  	<nuclide> <id>Gd155</id> <comp>3.93</comp> 	</nuclide>
   	<nuclide> <id>Mo95</id>  <comp>1180</comp> 	</nuclide>
   	<nuclide> <id>Tc99</id>  <comp>1120</comp> 	</nuclide>
   	<nuclide> <id>Ru101</id> <comp>1210</comp> 	</nuclide>
   	<nuclide> <id>Rh103</id> <comp>540</comp> 	</nuclide>
   	<nuclide> <id>Ag109</id> <comp>119</comp> 	</nuclide>
  </recipe>

  <recipe>
    <name>na_fr_fuel</name>
    <basis>mass</basis>
    <nuclide> <id>U234</id>  <comp>0.000538</comp> </nuclide>
    <nuclide> <id>U235</id>  <comp>0.188200</comp> </nuclide>
    <nuclide> <id>U238</id>  <comp>75.091897</comp> </nuclide>
    <nuclide> <id>Pu238</id> <comp>0.875900</comp> </nuclide>
    <nuclide> <id>Pu239</id> <comp>12.670000</comp> </nuclide>
    <nuclide> <id>Pu240</id> <comp>6.889000</comp> </nuclide>
    <nuclide> <id>Pu241</id> <comp>0.702600</comp> </nuclide>
    <nuclide> <id>Pu242</id> <comp>1.074000</comp> </nuclide>
    <nuclide> <id>Am241</id> <comp>0.858200</comp> </nuclide>
    <nuclide> <id>Am242</id> <comp>0.048340</comp> </nuclide>
    <nuclide> <id>Am243</id> <comp>0.511400</comp> </nuclide>
    <nuclide> <id>Np237</id> <comp>0.500000</comp> </nuclide>
    <nuclide> <id>Cm242</id> <comp>0.002424</comp> </nuclide>
    <nuclide> <id>Cm243</id> <comp>0.006541</comp> </nuclide>
    <nuclide> <id>Cm244</id> <comp>0.469900</comp> </nuclide>
    <nuclide> <id>Cm245</id> <comp>0.083910</comp> </nuclide>
    <nuclide> <id>Cm246</id> <comp>0.027150</comp> </nuclide>
  </recipe> 

  <recipe>
    <name>depleted_u</name>
    <basis>mass</basis>
    <nuclide> <id>U235</id><comp>0.003</comp></nuclide>
    <nuclide><id>U238</id><comp>0.997</comp></nuclide>
  </recipe>

  <recipe>
    <name>pu</name>
    <basis>mass</basis>
    <nuclide> <id>Pu238</id><comp>1.3</comp></nuclide>
    <nuclide> <id>Pu239</id><comp>56.6</comp></nuclide>
    <nuclide> <id>Pu240</id><comp>23.2</comp></nuclide>
    <nuclide> <id>Pu241</id><comp>13.9</comp></nuclide>
    <nuclide> <id>Pu242</id><comp>4.7</comp></nuclide>
  </recipe>

</simulation>